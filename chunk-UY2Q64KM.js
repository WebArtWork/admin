import{e as F}from"./chunk-SQDWIGYC.js";import{$a as b,C as n,E as h,F as u,Ia as C,J as _,O as v,Oa as l,Sa as S,Ta as y,Ua as g,Wa as c,gb as j,ib as w,l as m,m as p,o as a}from"./chunk-3KY4TGUC.js";var k={formId:"parsefield",title:"Parsefield",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill parsefield title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill parsefield description"},{name:"Label",value:"Description"}]}]};var M=(()=>{class i extends S{constructor(r,t,e,s){super({name:"parsefield"},r,t,e,s),this.parsefields=this.getDocs(),this.parsefieldsByAuthor={},this.get(),this.filteredDocuments(this.parsefieldsByAuthor)}static{this.\u0275fac=function(t){return new(t||i)(a(g),a(y),a(c),a(l))}}static{this.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var x=(()=>{class i{get rows(){return this._parsefieldService.parsefields}constructor(r,t,e,s,d){this._translate=r,this._parsefieldService=t,this._alert=e,this._form=s,this._core=d,this.columns=["name","description"],this.form=this._form.getForm("parsefield",k),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(o,f)=>{this._preCreate(o),this._parsefieldService.create(o),f()}})},update:o=>{this._form.modal(this.form,[],o).then(f=>{this._core.copy(f,o),this._parsefieldService.update(o)})},delete:o=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this parsefield?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._parsefieldService.delete(o)}}]})},buttons:[{icon:"cloud_download",click:o=>{this._form.modalUnique("parsefield","url",o)}}],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]}}_bulkManagement(r=!0){return()=>{this._form.modalDocs(r?[]:this.rows).then(t=>{if(r)for(let e of t)this._preCreate(e),this._parsefieldService.create(e);else{for(let e of this.rows)t.find(s=>s._id===e._id)||this._parsefieldService.delete(e);for(let e of t){let s=this.rows.find(d=>d._id===e._id);s?(this._core.copy(e,s),this._parsefieldService.update(s)):(this._preCreate(e),this._parsefieldService.create(e))}}})}}_preCreate(r){r.__created}static{this.\u0275fac=function(t){return new(t||i)(n(b),n(M),n(c),n(w),n(l))}}static{this.\u0275cmp=h({type:i,selectors:[["ng-component"]],standalone:!1,decls:1,vars:3,consts:[["title","Fields",3,"columns","config","rows"]],template:function(t,e){t&1&&v(0,"wtable",0),t&2&&_("columns",e.columns)("config",e.config)("rows",e.rows)},dependencies:[j],encapsulation:2})}}return i})();var A=[{path:"",component:x}],E=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=u({type:i})}static{this.\u0275inj=p({imports:[C.forChild(A),F]})}}return i})();export{E as FieldsModule};
